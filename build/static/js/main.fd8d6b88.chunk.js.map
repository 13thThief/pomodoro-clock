{"version":3,"sources":["App.js","index.js"],"names":["pomodoroCircle","circle","angleIncrement","accurateInterval","fn","time","nextAt","Date","getTime","timeout","setTimeout","wrapper","cancel","clearTimeout","defaultState","sessionLength","breakLength","timerRunning","timerLabel","timer","timerID","minLength","maxLength","angle","Label","props","state","id","this","className","title","decID","value","onClick","lengthID","length","incID","React","Component","Timer","timeLeft","startStop","reset","App","setState","audioRef","current","pause","currentTime","setAttribute","handleCount","e","currentTarget","incrementTimer","decrementTimer","undefined","countDown","changeTimer","play","minutes","Math","floor","seconds","createRef","script","document","createElement","src","async","body","appendChild","getElementById","style","width","height","top","left","cx","cy","r","fill","stroke","strokeWidth","strokeDasharray","transform","textAnchor","x","y","preload","type","ref","ReactDOM","render"],"mappings":"gLAiCIA,EACAC,EAEAC,E,2EAhCAC,G,MAAmB,SAASC,EAAIC,GAClC,IAAIC,GAAS,IAAIC,MAAOC,UAAYH,EAChCI,EAAU,KAUd,OADAA,EAAUC,WARI,SAAVC,IAGF,OAFAL,GAAUD,EACVI,EAAUC,WAAWC,EAASL,GAAS,IAAIC,MAAOC,WAC3CJ,KAKqBE,GAAS,IAAIC,MAAOC,WAC3C,CACLI,OALW,WACX,OAAOC,aAAaJ,OAQlBK,EAAe,CACnBC,cAAe,GACfC,YAAa,EACbC,cAAc,EACdC,WAAY,UACZC,MAAO,KACPC,QAAS,MAGLC,EAAY,EACZC,EAAY,GAIdC,EAAQ,IAGNC,E,YACJ,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KACDC,MAAQ,GAFI,E,sEAMjB,OACE,yBAAKC,GAAIC,KAAKH,MAAME,GAAIE,UAAU,SAChC,yBAAKA,UAAU,eAAeD,KAAKH,MAAMK,OACzC,4BACEH,GAAIC,KAAKH,MAAMM,MACfC,MAAM,WACNC,QAASL,KAAKH,MAAMQ,SAEpB,uBAAGJ,UAAU,+BAEf,0BAAMF,GAAIC,KAAKH,MAAMS,UAAWN,KAAKH,MAAMU,QAC3C,4BACER,GAAIC,KAAKH,MAAMW,MACfJ,MAAM,WACNC,QAASL,KAAKH,MAAMQ,SAEpB,uBAAGJ,UAAU,kC,GAvBHQ,IAAMC,WA8BpBC,E,YACJ,WAAYd,GAAQ,qEACZA,I,sEAIN,OACE,yBAAKE,GAAG,SACN,yBAAKA,GAAG,iBACN,yBAAKA,GAAG,eAAeC,KAAKH,MAAMP,YAClC,yBAAKS,GAAG,aAAaC,KAAKH,MAAMe,WAElC,yBAAKb,GAAG,iBACN,4BAAQA,GAAG,aAAaM,QAASL,KAAKH,MAAMgB,WAC1C,uBACEZ,UACE,QACCD,KAAKH,MAAMR,aAAe,WAAa,WACxC,YAIN,4BAAQU,GAAG,QAAQM,QAASL,KAAKH,MAAMiB,OACrC,uBAAGb,UAAU,+B,GAvBLQ,IAAMC,WA0OXK,E,YA1Mb,WAAYlB,GAAQ,IAAD,8BACjB,4CAAMA,KAKRiB,MAAQ,WACN,EAAKhB,MAAMN,SAAW,EAAKM,MAAMN,QAAQR,SACzCZ,GAAkBA,EAAeY,SACjC,EAAKgC,SAAS9B,GACd,EAAK+B,SAASC,QAAQC,QACtB,EAAKF,SAASC,QAAQE,YAAc,EAEpCzB,EAAQ,IACRtB,EAAOgD,aAAa,mBAAoB1B,EAAQ,YAd/B,EAiBnB2B,YAAc,SAAAC,GACR,EAAKzB,MAAMT,eACe,aAA1BkC,EAAEC,cAAcpB,MAAsB,EAAKqB,eAAeF,GACzD,EAAKG,eAAeH,KApBR,EAuBnBE,eAAiB,SAAAF,GACf,QAAUI,IAANJ,EAOJ,OAAQA,EAAEC,cAAczB,IACtB,IAAK,kBACH,GAAI,EAAKD,MAAMV,cAAgBM,EAAW,OAC1C,EAAKsB,SAAS,CACZ5B,YAAa,EAAKU,MAAMV,YAAc,EACtCG,MAAsC,IAA9B,EAAKO,MAAMV,YAAc,KAEnC,MACF,IAAK,oBACH,GAAI,EAAKU,MAAMX,gBAAkBO,EAAW,OAC5C,EAAKsB,SAAS,CACZ7B,cAAe,EAAKW,MAAMX,cAAgB,EAC1CI,MAAwC,IAAhC,EAAKO,MAAMX,cAAgB,UAlBvC,EAAK6B,SAAS,CACZzB,MAAO,EAAKO,MAAMP,MAAQ,KA1Bb,EAiDnBmC,eAAiB,SAAAH,GACf,QAAUI,IAANJ,EAQF,OAPA,EAAKP,SAAS,CACZzB,MAAO,EAAKO,MAAMP,MAAQ,IAG5BlB,EAAOgD,aAAa,mBAAoB1B,EAAQ,gBAEhDA,GAASrB,GAIX,OAAQiD,EAAEC,cAAczB,IACtB,IAAK,kBACH,GAAI,EAAKD,MAAMV,cAAgBK,EAC7B,OAEF,EAAKuB,SAAS,CACZ5B,YAAa,EAAKU,MAAMV,YAAc,EACtCG,MAAsC,IAA9B,EAAKO,MAAMV,YAAc,KAEnC,MACF,IAAK,oBACH,GAAI,EAAKU,MAAMX,gBAAkBM,EAAW,OAC5C,EAAKuB,SAAS,CACZ7B,cAAe,EAAKW,MAAMX,cAAgB,EAC1CI,MAAwC,IAAhC,EAAKO,MAAMX,cAAgB,OA3ExB,EAiFnB0B,UAAY,WACL,EAAKf,MAAMT,cAOd,EAAK2B,SAAS,CACZ3B,cAAc,IAEhB,EAAKS,MAAMN,SAAW,EAAKM,MAAMN,QAAQR,SACzCV,EAAiB,IAAM,EAAKwB,MAAMP,QAVlC,EAAKyB,SAAS,CACZ3B,cAAc,IAEhBf,EAAiB,IAAM,EAAKwB,MAAMP,MAClC,EAAKqC,cAvFU,EAiGnBA,UAAY,WACV,EAAKZ,SAAS,CACZxB,QAASjB,EAAiB,WACxB,EAAKmD,iBACD,EAAK5B,MAAMP,MAAQ,GAAG,EAAKsC,eAC9B,QAtGY,EA0GnBA,YAAc,WACZ,EAAKZ,SAASC,QAAQY,OACQ,YAA1B,EAAKhC,MAAMR,YACb,EAAKQ,MAAMN,QAAQR,SACnB,EAAKgC,SAAS,CACZzB,MAAgC,GAAzB,EAAKO,MAAMV,YAClBE,WAAY,UAEdK,EAAQ,IACR,EAAKiC,cAEL,EAAK9B,MAAMN,QAAQR,SACnB,EAAKgC,SAAS,CACZzB,MAAkC,GAA3B,EAAKO,MAAMX,cAClBG,WAAY,YAEd,EAAKsC,cA1HU,EA8HnBnD,KAAO,WACL,IAAIsD,EAAUC,KAAKC,MAAM,EAAKnC,MAAMP,MAAQ,IACxC2C,EAAU,EAAKpC,MAAMP,MAAkB,GAAVwC,EAGjC,OAFAG,EAAUA,EAAU,GAAK,IAAMA,EAAUA,EAEnC,GAAN,OADAH,EAAUA,EAAU,GAAK,IAAMA,EAAUA,EACzC,YAAqBG,IAjIrB,EAAKpC,MAAQZ,EACb,EAAK+B,SAAWR,IAAM0B,YAHL,E,iFAuIjB,IAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IACL,kEACFH,EAAOI,OAAQ,EACfH,SAASI,KAAKC,YAAYN,GAC1B/D,EAASgE,SAASM,eAAe,gB,+BAIjC,OACE,yBAAK1C,UAAU,aACb,yBAAKA,UAAU,SAAf,kBACA,yBAAKA,UAAU,mBACb,kBAAC,EAAD,CACEC,MAAM,iBACNH,GAAG,gBACHO,SAAS,iBACTE,MAAM,oBACNL,MAAM,oBACNI,OAAQP,KAAKF,MAAMX,cACnBkB,QAASL,KAAKsB,cAEhB,kBAAC,EAAD,CACEpB,MAAM,eACNH,GAAG,cACHO,SAAS,eACTE,MAAM,kBACNL,MAAM,kBACNI,OAAQP,KAAKF,MAAMV,YACnBiB,QAASL,KAAKsB,eAGlB,yBAAKsB,MAAO,CAAEC,MAAO,IAAKC,OAAQ,IAAKC,IAAK,EAAGC,KAAM,IACnD,4BACEC,GAAG,MACHC,GAAG,MACHC,EAAE,KACFpD,GAAG,aACHqD,KAAK,OACLC,OAAO,QACPC,YAAY,IACZC,gBAAe,UAAK5D,EAAL,UACf6D,UAAU,wBAEZ,0BAAMzD,GAAG,WAAW0D,WAAW,SAASC,EAAE,MAAMC,EAAE,OAC/C3D,KAAKvB,SAGV,kBAAC,EAAD,CACEa,WAAYU,KAAKF,MAAMR,WACvBsB,SAAUZ,KAAKvB,OACfoC,UAAWb,KAAKa,UAChBC,MAAOd,KAAKc,MACZzB,aAAcW,KAAKF,MAAMT,eAE3B,2BACEU,GAAG,OACH6D,QAAQ,OACRrB,IAAK,wBACLsB,KAAK,YACLC,IAAK9D,KAAKiB,gB,GApMFR,IAAMC,WC9FxBqD,IAASC,OAAO,kBAAC,EAAD,MAAS3B,SAASM,eAAe,U","file":"static/js/main.fd8d6b88.chunk.js","sourcesContent":["import React from 'react';\nimport './App.css';\n\n// accurateIterval - https://gist.github.com/Squeegy/1d99b3cd81d610ac7351\nlet accurateInterval = function(fn, time) {\n  let nextAt = new Date().getTime() + time;\n  let timeout = null;\n  let wrapper = function() {\n    nextAt += time;\n    timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n    return fn();\n  };\n  let cancel = function() {\n    return clearTimeout(timeout);\n  };\n  timeout = setTimeout(wrapper, nextAt - new Date().getTime());\n  return {\n    cancel\n  };\n};\n\nconst defaultState = {\n  sessionLength: 25,\n  breakLength: 5,\n  timerRunning: false,\n  timerLabel: 'Session',\n  timer: 1500,\n  timerID: null\n};\n\nconst minLength = 1;\nconst maxLength = 60;\n\nlet pomodoroCircle;\nlet circle;\nlet angle = 360;\nlet angleIncrement;\n\nclass Label extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    return (\n      <div id={this.props.id} className='label'>\n        <div className='label-title'>{this.props.title}</div>\n        <button\n          id={this.props.decID}\n          value='decrease'\n          onClick={this.props.onClick}\n        >\n          <i className='fas fa-chevron-down fa-2x' />\n        </button>\n        <span id={this.props.lengthID}>{this.props.length}</span>\n        <button\n          id={this.props.incID}\n          value='increase'\n          onClick={this.props.onClick}\n        >\n          <i className='fas fa-chevron-up fa-2x' />\n        </button>\n      </div>\n    );\n  }\n}\n\nclass Timer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return (\n      <div id='timer'>\n        <div id='timer-display'>\n          <div id='timer-label'>{this.props.timerLabel}</div>\n          <div id='time-left'>{this.props.timeLeft}</div>\n        </div>\n        <div id='timer-control'>\n          <button id='start_stop' onClick={this.props.startStop}>\n            <i\n              className={\n                'fas ' +\n                (this.props.timerRunning ? 'fa-pause' : 'fa-play') +\n                ' fa-2x'\n              }\n            />\n          </button>\n          <button id='reset' onClick={this.props.reset}>\n            <i className='fa fa-refresh fa-2x' />\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n    this.audioRef = React.createRef();\n  }\n\n  reset = () => {\n    this.state.timerID && this.state.timerID.cancel();\n    pomodoroCircle && pomodoroCircle.cancel();\n    this.setState(defaultState);\n    this.audioRef.current.pause();\n    this.audioRef.current.currentTime = 0;\n\n    angle = 360;\n    circle.setAttribute('stroke-dasharray', angle + ', 20000');\n  };\n\n  handleCount = e => {\n    if (this.state.timerRunning) return;\n    if (e.currentTarget.value === 'increase') this.incrementTimer(e);\n    else this.decrementTimer(e);\n  };\n\n  incrementTimer = e => {\n    if (e === undefined) {\n      this.setState({\n        timer: this.state.timer - 1\n      });\n      return;\n    }\n\n    switch (e.currentTarget.id) {\n      case 'break-increment':\n        if (this.state.breakLength === maxLength) return;\n        this.setState({\n          breakLength: this.state.breakLength + 1,\n          timer: (this.state.breakLength + 1) * 60\n        });\n        break;\n      case 'session-increment':\n        if (this.state.sessionLength === maxLength) return;\n        this.setState({\n          sessionLength: this.state.sessionLength + 1,\n          timer: (this.state.sessionLength + 1) * 60\n        });\n        break;\n    }\n  };\n\n  decrementTimer = e => {\n    if (e === undefined) {\n      this.setState({\n        timer: this.state.timer - 1\n      });\n\n      circle.setAttribute('stroke-dasharray', angle + ', 20000');\n\n      angle -= angleIncrement;\n      return;\n    }\n\n    switch (e.currentTarget.id) {\n      case 'break-decrement':\n        if (this.state.breakLength === minLength) {\n          return;\n        }\n        this.setState({\n          breakLength: this.state.breakLength - 1,\n          timer: (this.state.breakLength - 1) * 60\n        });\n        break;\n      case 'session-decrement':\n        if (this.state.sessionLength === minLength) return;\n        this.setState({\n          sessionLength: this.state.sessionLength - 1,\n          timer: (this.state.sessionLength - 1) * 60\n        });\n        break;\n    }\n  };\n\n  startStop = () => {\n    if (!this.state.timerRunning) {\n      this.setState({\n        timerRunning: true\n      });\n      angleIncrement = 360 / this.state.timer;\n      this.countDown();\n    } else {\n      this.setState({\n        timerRunning: false\n      });\n      this.state.timerID && this.state.timerID.cancel();\n      angleIncrement = 360 / this.state.timer;\n    }\n  };\n\n  countDown = () => {\n    this.setState({\n      timerID: accurateInterval(() => {\n        this.decrementTimer();\n        if (this.state.timer < 0) this.changeTimer();\n      }, 1000)\n    });\n  };\n\n  changeTimer = () => {\n    this.audioRef.current.play();\n    if (this.state.timerLabel === 'Session') {\n      this.state.timerID.cancel();\n      this.setState({\n        timer: this.state.breakLength * 60,\n        timerLabel: 'Break'\n      });\n      angle = 360;\n      this.countDown();\n    } else {\n      this.state.timerID.cancel();\n      this.setState({\n        timer: this.state.sessionLength * 60,\n        timerLabel: 'Session'\n      });\n      this.countDown();\n    }\n  };\n\n  time = () => {\n    let minutes = Math.floor(this.state.timer / 60);\n    let seconds = this.state.timer - minutes * 60;\n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    minutes = minutes < 10 ? '0' + minutes : minutes;\n    return `${minutes}:${seconds}`;\n  };\n\n  componentDidMount() {\n    const script = document.createElement('script');\n    script.src =\n      'https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js';\n    script.async = true;\n    document.body.appendChild(script);\n    circle = document.getElementById('green-halo');\n  }\n\n  render() {\n    return (\n      <div className='container'>\n        <div className='title'>Pomodoro Clock</div>\n        <div className='label-container'>\n          <Label\n            title='Session Length'\n            id='session-label'\n            lengthID='session-length'\n            incID='session-increment'\n            decID='session-decrement'\n            length={this.state.sessionLength}\n            onClick={this.handleCount}\n          ></Label>\n          <Label\n            title='Break Length'\n            id='break-label'\n            lengthID='break-length'\n            incID='break-increment'\n            decID='break-decrement'\n            length={this.state.breakLength}\n            onClick={this.handleCount}\n          ></Label>\n        </div>\n        <svg style={{ width: 200, height: 200, top: 0, left: 0 }}>\n          <circle\n            cx='100'\n            cy='100'\n            r='57'\n            id='green-halo'\n            fill='none'\n            stroke='white'\n            strokeWidth='5'\n            strokeDasharray={`${angle},20000`}\n            transform='rotate(-90,100,100)'\n          />\n          <text id='svg-text' textAnchor='middle' x='100' y='110'>\n            {this.time()}\n          </text>\n        </svg>\n        <Timer\n          timerLabel={this.state.timerLabel}\n          timeLeft={this.time()}\n          startStop={this.startStop}\n          reset={this.reset}\n          timerRunning={this.state.timerRunning}\n        />\n        <audio\n          id='beep'\n          preload='auto'\n          src={'https://goo.gl/65cBl1'}\n          type='audio/mp3'\n          ref={this.audioRef}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}